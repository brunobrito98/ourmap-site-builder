# ğŸ‰ Plataforma de Gerenciamento de Eventos

Uma soluÃ§Ã£o completa e moderna para criar, descobrir e participar de eventos. Conecte-se com pessoas, organize eventos incrÃ­veis e construa comunidades engajadas.

![Status](https://img.shields.io/badge/status-active-success.svg)
![License](https://img.shields.io/badge/license-MIT-blue.svg)

## ğŸŒŸ VisÃ£o Geral

Nossa plataforma oferece uma experiÃªncia completa para organizadores e participantes de eventos, com recursos sociais avanÃ§ados, sistema de pagamentos integrado, e ferramentas de promoÃ§Ã£o inteligentes.

### âœ¨ Principais Funcionalidades

#### Para Participantes
- ğŸ” **Descoberta Inteligente:** Encontre eventos prÃ³ximos baseados em sua localizaÃ§Ã£o e interesses
- ğŸ« **Ingressos Digitais:** Compre ingressos com QR Code e pagamento seguro via Stripe
- ğŸ‘¥ **ConexÃµes Sociais:** Sistema completo de amizades e networking
- ğŸ’¬ **Chat em Tempo Real:** Converse com amigos e organizadores
- ğŸ”” **NotificaÃ§Ãµes:** Push e email para nÃ£o perder nada
- â­ **AvaliaÃ§Ãµes:** Avalie eventos e organizadores
- ğŸ¯ **Grupos TemÃ¡ticos:** Participe de comunidades por interesse
- ğŸ’° **Programa de ReferÃªncia:** Ganhe crÃ©ditos indicando amigos

#### Para Organizadores
- ğŸ“ **CriaÃ§Ã£o Simplificada:** Interface intuitiva para criar eventos
- ğŸ’³ **MonetizaÃ§Ã£o:** Venda ingressos com mÃºltiplos tipos e lotes
- ğŸ” **Eventos Recorrentes:** Configure sÃ©ries de eventos automaticamente
- ğŸ’¸ **Vaquinha/Crowdfunding:** Arrecade fundos coletivamente
- ğŸ¯ **Sistema de Boost:** Promova eventos com planos pagos
- ğŸ“Š **Analytics Completo:** Acompanhe mÃ©tricas e receita
- ğŸ‘¥ **GestÃ£o de Participantes:** Check-in, lista de espera, convidados VIP
- ğŸ“¸ **Galeria Colaborativa:** Participantes compartilham fotos

#### Recursos Sociais
- ğŸ¤ **Sistema de Amizades:** ConexÃµes, seguidores e rede social
- ğŸŒ **Grupos e Comunidades:** DiscussÃµes, enquetes e eventos em grupo
- ğŸ’¬ **Mensagens Privadas:** Chat 1-on-1 com controles de privacidade
- ğŸ¤ **Perfis Personalizados:** Galeria de fotos, bio, redes sociais

#### Tecnologia e SeguranÃ§a
- ğŸ”’ **Pagamentos Seguros:** Stripe para processamento
- ğŸ—ºï¸ **Mapbox Integration:** Mapas interativos e geolocalizaÃ§Ã£o
- ğŸ“§ **SendGrid:** Emails transacionais e notificaÃ§Ãµes
- ğŸ”” **Firebase:** NotificaÃ§Ãµes push em tempo real
- ğŸ›¡ï¸ **ModeraÃ§Ã£o AutomÃ¡tica:** Sistema anti-spam e conteÃºdo inadequado

## ğŸ“š DocumentaÃ§Ã£o

### ğŸš€ InÃ­cio RÃ¡pido
- [Guia de InÃ­cio RÃ¡pido](docs/INICIO-RAPIDO.md) - Comece em 5 minutos

### ğŸ“– Manuais Completos
- [Manual do UsuÃ¡rio](docs/manuais/MANUAL-USUARIO.md) - Guia completo de todas as funcionalidades
- [Manual do Administrador](docs/admin/MANUAL-ADMINISTRADOR.md) - GestÃ£o e moderaÃ§Ã£o da plataforma

### ğŸ¯ Tutoriais EspecÃ­ficos
- [Sistema de Boost de Eventos](docs/tutoriais/boost-eventos.md) - Promova seus eventos
- [Programa de ReferÃªncia](docs/tutoriais/programa-referencia.md) - Ganhe crÃ©ditos
- [Criar Eventos Pagos](docs/tutoriais/criar-eventos-pagos.md) - Monetize seus eventos
- [Grupos e Comunidades](docs/tutoriais/grupos-comunidades.md) - Construa comunidades
- [Eventos Recorrentes](docs/tutoriais/eventos-recorrentes.md) - SÃ©ries de eventos

## ğŸ› ï¸ Stack TecnolÃ³gica

### Frontend
- **React 18** - UI Framework
- **TypeScript** - Type Safety
- **Vite** - Build Tool
- **Wouter** - Routing
- **TanStack Query** - Data Fetching & Caching
- **Tailwind CSS** - Styling
- **shadcn/ui** - Component Library
- **Radix UI** - Accessible Primitives
- **Mapbox GL JS** - Maps & Geolocation
- **Stripe.js** - Payment Processing

### Backend
- **Node.js** - Runtime
- **Express.js** - Web Framework
- **TypeScript** - Type Safety
- **Drizzle ORM** - Database ORM
- **PostgreSQL** (Supabase) - Database
- **Passport.js** - Authentication
- **Stripe** - Payment Processing
- **SendGrid** - Email Service
- **Firebase Admin** - Push Notifications
- **Node-cron** - Scheduled Tasks

### ServiÃ§os Externos
- **Supabase** - PostgreSQL Database & Storage
- **Stripe** - Payment Processing
- **SendGrid** - Transactional Emails
- **Firebase Cloud Messaging** - Push Notifications
- **Mapbox** - Maps & Geocoding

## ğŸš€ InstalaÃ§Ã£o e ConfiguraÃ§Ã£o

### PrÃ©-requisitos
- Node.js 20+ 
- PostgreSQL (ou conta Supabase)
- Contas nos serviÃ§os externos (Stripe, SendGrid, Firebase, Mapbox)

### ConfiguraÃ§Ã£o Local

1. **Clone o repositÃ³rio**
```bash
git clone <repository-url>
cd <project-folder>
```

2. **Instale dependÃªncias**
```bash
npm install
```

3. **Configure variÃ¡veis de ambiente**

Crie arquivo `.env` na raiz:

```env
# Database
DATABASE_URL=postgresql://user:password@host:port/database

# Stripe
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_...

# SendGrid
SENDGRID_API_KEY=SG....
SENDGRID_FROM_EMAIL=no-reply@seudominio.com

# Firebase
FIREBASE_SERVICE_ACCOUNT_JSON={"type":"service_account",...}
FIREBASE_WEB_CONFIG=const firebaseConfig = {...}

# Mapbox
MAPBOX_TOKEN=pk.ey...
VITE_MAPBOX_ACCESS_TOKEN=pk.ey...

# Session
SESSION_SECRET=seu-secret-aleatorio-aqui

# Admin (primeiro acesso)
ADMIN_PASSWORD=sua-senha-segura
```

4. **Configure o banco de dados**
```bash
npm run db:push
```

5. **Inicie o servidor de desenvolvimento**
```bash
npm run dev
```

6. **Acesse a aplicaÃ§Ã£o**
```
http://localhost:5000
```

### ConfiguraÃ§Ã£o do Webhook do Stripe

âš ï¸ **Importante para Pagamentos:** Em desenvolvimento, o webhook do Stripe pode nÃ£o disparar automaticamente. Existem duas soluÃ§Ãµes:

#### OpÃ§Ã£o 1: Stripe CLI (Recomendado)
```bash
# Instale o Stripe CLI
brew install stripe/stripe-cli/stripe

# FaÃ§a login
stripe login

# Encaminhe eventos para seu servidor local
stripe listen --forward-to http://localhost:5000/api/stripe/webhook
```


#### OpÃ§Ã£o 2: Endpoint de Fallback (Somente Admin)
Se o webhook nÃ£o disparar, administradores podem usar o endpoint de fallback manual:

```bash
# REQUER AUTENTICAÃ‡ÃƒO DE ADMIN
# ApÃ³s um pagamento ser confirmado no Stripe Dashboard
curl -X POST http://localhost:5000/api/stripe/process-pending-payment \
  -H "Content-Type: application/json" \
  -H "Cookie: connect.sid=YOUR_ADMIN_SESSION_COOKIE" \
  -d '{"paymentIntentId": "pi_xxxxx"}'
```

âš ï¸ **SeguranÃ§a**: Este endpoint requer autenticaÃ§Ã£o de administrador para prevenir processamento nÃ£o autorizado de pagamentos.

Este endpoint processa manualmente pagamentos que foram confirmados mas nÃ£o geraram webhook:
- âœ… Verifica status do pagamento no Stripe
- âœ… Cria o pedido (order) de forma idempotente
- âœ… Gera ingressos com QR codes Ãºnicos

- âœ… Confirma presenÃ§a no evento
- âœ… Envia email de confirmaÃ§Ã£o

### Deployment (Replit)

A aplicaÃ§Ã£o estÃ¡ otimizada para deploy no Replit:

1. Configure Secrets no painel do Replit
2. O sistema detecta automaticamente ambiente Replit
3. Workflow "Start application" inicia automaticamente
4. Configurado para Replit Autoscale
5. Configure o webhook do Stripe no Dashboard apontando para: `https://seu-repl.replit.app/api/stripe/webhook`

## ğŸ“Š Estrutura do Projeto

```
.
â”œâ”€â”€ client/                 # Frontend React
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # Componentes React
â”‚   â”‚   â”œâ”€â”€ pages/        # PÃ¡ginas da aplicaÃ§Ã£o
â”‚   â”‚   â”œâ”€â”€ lib/          # UtilitÃ¡rios e helpers
â”‚   â”‚   â””â”€â”€ hooks/        # Custom React hooks
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ server/                # Backend Express
â”‚   â”œâ”€â”€ index.ts          # Entry point
â”‚   â”œâ”€â”€ routes.ts         # API routes
â”‚   â”œâ”€â”€ storage.ts        # Database layer
â”‚   â”œâ”€â”€ auth.ts           # Authentication
â”‚   â”œâ”€â”€ db.ts             # Database connection
â”‚   â”œâ”€â”€ moderation.ts     # Content moderation
â”‚   â”œâ”€â”€ *-cron.ts         # Scheduled tasks
â”‚   â””â”€â”€ email-*.ts        # Email services
â”œâ”€â”€ shared/               # CÃ³digo compartilhado
â”‚   â””â”€â”€ schema.ts         # Database schema (Drizzle)
â”œâ”€â”€ docs/                 # DocumentaÃ§Ã£o
â”‚   â”œâ”€â”€ manuais/         # Manuais completos
â”‚   â”œâ”€â”€ tutoriais/       # Tutoriais especÃ­ficos
â”‚   â””â”€â”€ admin/           # Docs administrativas
â””â”€â”€ README.md
```

## ğŸ”§ Scripts DisponÃ­veis

```bash
# Desenvolvimento
npm run dev              # Inicia servidor de desenvolvimento

# Database
npm run db:push          # Sincroniza schema com database
npm run db:studio        # Abre Drizzle Studio (DB GUI)

# Build
npm run build            # Build para produÃ§Ã£o
npm run start            # Inicia servidor de produÃ§Ã£o
```

## ğŸ” AutenticaÃ§Ã£o

A plataforma suporta mÃºltiplos mÃ©todos de autenticaÃ§Ã£o:

### Replit Auth
- Login SSO com conta Replit
- ConfiguraÃ§Ã£o automÃ¡tica
- Ideal para usuÃ¡rios da plataforma Replit

### AutenticaÃ§Ã£o Local
- Email + Senha
- VerificaÃ§Ã£o de email obrigatÃ³ria
- RecuperaÃ§Ã£o de senha
- Ideal para uso geral

## ğŸ’³ Sistema de Pagamentos

### Stripe Integration

**Eventos Pagos:**
- MÃºltiplos tipos de ingresso
- Lotes progressivos
- QR Codes automÃ¡ticos
- Webhook para confirmaÃ§Ã£o
- Reembolsos automÃ¡ticos

**Multi-currency:**
- BRL (Brasil)
- USD (Internacional)
- DetecÃ§Ã£o automÃ¡tica baseada em paÃ­s

**Boost de Eventos:**
- Planos: Prata, Ouro, Diamante
- Pagamento via Stripe
- DistribuiÃ§Ã£o automÃ¡tica ao longo do tempo

## ğŸ“§ Sistema de Emails

### SendGrid Integration

**Emails Transacionais:**
- ConfirmaÃ§Ã£o de cadastro
- RecuperaÃ§Ã£o de senha
- ConfirmaÃ§Ã£o de ingresso (com QR Code)
- NotificaÃ§Ãµes de eventos
- Cancelamento de eventos

**Emails PeriÃ³dicos:**
- Resumo diÃ¡rio de eventos locais
- Resumo semanal de atividades
- PÃ³s-evento (solicitaÃ§Ã£o de avaliaÃ§Ã£o)

**Multi-idioma:**
- PortuguÃªs (Brasil)
- English (Internacional)
- DetecÃ§Ã£o automÃ¡tica baseada em paÃ­s

## ğŸ”” NotificaÃ§Ãµes Push

### Firebase Cloud Messaging

**NotificaÃ§Ãµes em Tempo Real:**
- Novos eventos na Ã¡rea
- SolicitaÃ§Ãµes de amizade
- Novas mensagens
- ConfirmaÃ§Ãµes de presenÃ§a
- Lembretes de eventos
- Cancelamentos
- Atividade em grupos

**ConfigurÃ¡vel:**
- UsuÃ¡rio controla preferÃªncias
- Por tipo de notificaÃ§Ã£o
- HorÃ¡rios permitidos

## ğŸ—ºï¸ GeolocalizaÃ§Ã£o

### Mapbox Integration

**Recursos:**
- SeleÃ§Ã£o de local no mapa
- Geocoding (endereÃ§o â†’ coordenadas)
- Reverse geocoding (coordenadas â†’ endereÃ§o)
- DetecÃ§Ã£o automÃ¡tica de localizaÃ§Ã£o
- Busca de eventos por proximidade
- VisualizaÃ§Ã£o de eventos em mapa

## ğŸ›¡ï¸ ModeraÃ§Ã£o de ConteÃºdo

### Sistema AutomÃ¡tico

**AnÃ¡lise Multi-camadas:**
- Blocklist de palavras/URLs
- DetecÃ§Ã£o de padrÃµes (regex)
- Risk scoring automÃ¡tico
- Filtro de profanidade

**AÃ§Ãµes:**
- Auto-aprovaÃ§Ã£o (risk score baixo)
- RevisÃ£o humana (score mÃ©dio)
- Auto-rejeiÃ§Ã£o (score alto)

**Trust Score de UsuÃ¡rios:**
- Sistema de reputaÃ§Ã£o
- Aumenta com bom comportamento
- Diminui com violaÃ§Ãµes
- Influencia moderaÃ§Ã£o futura

## ğŸ“ˆ Analytics e MÃ©tricas

### Dashboard do Organizador
- VisualizaÃ§Ãµes do evento
- Taxa de conversÃ£o
- Receita em tempo real
- Origem dos participantes
- Efetividade de boost

### Dashboard Admin
- KPIs da plataforma
- Crescimento de usuÃ¡rios
- Eventos por categoria
- Receita total
- MÃ©tricas de moderaÃ§Ã£o

## ğŸ”„ Processos Automatizados (Cron Jobs)

### Configurados e Ativos

**Email Digests:**
- Resumos diÃ¡rios: 7h da manhÃ£
- Resumos semanais: Segunda 9h
- Limpeza de processados: Diariamente

**Event Reminders:**
- 1 hora antes: NotificaÃ§Ã£o push + email
- No horÃ¡rio: NotificaÃ§Ã£o push
- Executa a cada minuto

**Boost Distribution:**
- Distribui "subidas" de eventos promovidos
- Executa a cada hora
- Algoritmo inteligente de timing

**Pending Orders Cleanup:**
- Limpa pedidos Stripe pendentes >24h
- Executa a cada 6 horas

**Post-Event Ratings:**
- Solicita avaliaÃ§Ã£o 24h apÃ³s evento
- Executa diariamente Ã s 10h

## ğŸŒ InternacionalizaÃ§Ã£o (i18n)

**Idiomas Suportados:**
- ğŸ‡§ğŸ‡· PortuguÃªs (Brasil)
- ğŸ‡ºğŸ‡¸ English (US)

**DetecÃ§Ã£o AutomÃ¡tica:**
- Browser language
- PaÃ­s do usuÃ¡rio (via geolocation)
- PreferÃªncia manual

**Traduzido:**
- Interface completa
- Emails
- NotificaÃ§Ãµes push
- Categorias

## ğŸ”’ Privacidade e SeguranÃ§a

### Conformidade
- LGPD (Brasil)
- GDPR (Europa)
- Direito ao esquecimento
- ExportaÃ§Ã£o de dados

### SeguranÃ§a
- Senhas com bcrypt
- HTTPS obrigatÃ³rio (produÃ§Ã£o)
- Session management seguro
- ProteÃ§Ã£o contra CSRF
- Rate limiting
- SQL injection protection (via ORM)
- XSS protection

### Controles de Privacidade
- Visibilidade de perfil configurÃ¡vel
- Privacidade de mensagens
- Eventos privados com link
- Dados sensÃ­veis mascarados

## ğŸ“± Progressive Web App (PWA)

- InstalÃ¡vel em dispositivos mÃ³veis
- Funciona offline (cache)
- NotificaÃ§Ãµes push nativas
- ExperiÃªncia mobile-first

## ğŸ¤ Contribuindo

ContribuiÃ§Ãµes sÃ£o bem-vindas! Para contribuir:

1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudanÃ§as (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## ğŸ“ Changelog

### v1.0.0 (Outubro 2025)
- âœ¨ LanÃ§amento inicial
- ğŸ‰ Sistema completo de eventos
- ğŸ’³ IntegraÃ§Ã£o Stripe
- ğŸ“§ Sistema de emails
- ğŸ”” NotificaÃ§Ãµes push
- ğŸ‘¥ Grupos e comunidades
- ğŸ¯ Sistema de boost
- ğŸ’¸ Programa de referÃªncia

## ğŸ› Reportar Bugs

Encontrou um bug? Por favor:
1. Verifique se jÃ¡ nÃ£o foi reportado
2. Abra uma issue com:
   - DescriÃ§Ã£o clara do problema
   - Passos para reproduzir
   - Comportamento esperado vs atual
   - Screenshots (se aplicÃ¡vel)
   - Ambiente (browser, OS, etc.)

## ğŸ“ Suporte

- ğŸ“§ Email: suporte@plataforma.com
- ğŸ’¬ Chat: DisponÃ­vel na plataforma
- ğŸ“– Docs: [DocumentaÃ§Ã£o Completa](docs/)
- â“ FAQ: [Manual do UsuÃ¡rio](docs/manuais/MANUAL-USUARIO.md#perguntas-frequentes)

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ sob a licenÃ§a MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

## ğŸ™ Agradecimentos

- [Replit](https://replit.com) - Plataforma de desenvolvimento e hosting
- [Stripe](https://stripe.com) - Processamento de pagamentos
- [SendGrid](https://sendgrid.com) - ServiÃ§o de email
- [Firebase](https://firebase.google.com) - Push notifications
- [Mapbox](https://mapbox.com) - Mapas e geolocalizaÃ§Ã£o
- [Supabase](https://supabase.com) - Database e storage
- Comunidade open-source pelas bibliotecas incrÃ­veis

---

**Desenvolvido com â¤ï¸ para conectar pessoas atravÃ©s de eventos**

ğŸŒŸ Se vocÃª gostou deste projeto, considere dar uma estrela no GitHub!
